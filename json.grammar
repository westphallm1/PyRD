%%
json :: value;

object :: "`" pairs "`";

pairs :: pair "," pairs `pair.update(pairs); return pair`
         | pair `return pair`
         ;

pair :: string ":" value `return {string: value`}
        ;

array :: "[" elems "]" `return elems[::-1]`
         ;

elems :: value "," elems `elems.append(value); return elems`
        | value `return [value]`
        ;

null :: "null" `return None`;
value :: int | float | string | bool | array | null | object;

int :: /-?[0-9]+/ `return int(parsed[0])`;
float :: /-?[0-9]+"."[0-9]*/ `return float(parsed[0])`;
string :: '"' /[^""]*/ '"' `return parsed[1]`;
bool :: "true" `return True`
       | "false" `return False`;
%%
